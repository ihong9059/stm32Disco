<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STM32H745I-DISCO MMC_ReadWrite_DMA CubeMX í”„ë¡œì íŠ¸ ìƒì„± ê°€ì´ë“œ</title>
    <style>
        :root {
            --primary-color: #0066cc;
            --secondary-color: #f5f5f5;
            --accent-color: #ff6600;
            --text-color: #333;
            --border-color: #ddd;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
        }

        h1 {
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 10px;
            text-align: center;
        }

        h2 {
            color: var(--primary-color);
            border-left: 5px solid var(--accent-color);
            padding-left: 15px;
            margin-top: 40px;
        }

        h3 {
            color: #444;
            margin-top: 25px;
        }

        .step-container {
            background: var(--secondary-color);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid var(--primary-color);
        }

        .step-number {
            display: inline-block;
            background: var(--primary-color);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            font-weight: bold;
            margin-right: 10px;
        }

        .important {
            background: #fff3cd;
            border: 1px solid var(--warning-color);
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }

        .important::before {
            content: "âš ï¸ ì¤‘ìš”: ";
            font-weight: bold;
        }

        .note {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }

        .note::before {
            content: "ğŸ“ ì°¸ê³ : ";
            font-weight: bold;
        }

        .warning {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }

        .warning::before {
            content: "ğŸš¨ ì£¼ì˜: ";
            font-weight: bold;
        }

        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }

        .success::before {
            content: "âœ… ";
            font-weight: bold;
        }

        code {
            background: #e9ecef;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
        }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.85em;
            line-height: 1.4;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        th, td {
            border: 1px solid var(--border-color);
            padding: 10px;
            text-align: left;
        }

        th {
            background: var(--primary-color);
            color: white;
        }

        tr:nth-child(even) {
            background: var(--secondary-color);
        }

        .pin-table td:first-child {
            font-weight: bold;
            background: #e3f2fd;
        }

        .config-value {
            font-family: 'Consolas', monospace;
            color: var(--accent-color);
            font-weight: bold;
        }

        .menu-path {
            background: linear-gradient(90deg, #e3f2fd, #fff);
            padding: 8px 12px;
            border-radius: 5px;
            font-weight: bold;
            display: inline-block;
            margin: 5px 0;
        }

        .menu-path span {
            color: var(--primary-color);
        }

        .screenshot-placeholder {
            background: #f0f0f0;
            border: 2px dashed #ccc;
            padding: 40px;
            text-align: center;
            color: #888;
            margin: 15px 0;
            border-radius: 5px;
        }

        .toc {
            background: var(--secondary-color);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .toc h3 {
            margin-top: 0;
            color: var(--primary-color);
        }

        .toc ul {
            list-style-type: none;
            padding-left: 0;
        }

        .toc li {
            padding: 5px 0;
        }

        .toc a {
            color: var(--primary-color);
            text-decoration: none;
        }

        .toc a:hover {
            text-decoration: underline;
        }

        .checklist {
            list-style-type: none;
            padding-left: 0;
        }

        .checklist li {
            padding: 8px 0;
            padding-left: 30px;
            position: relative;
        }

        .checklist li::before {
            content: "â˜";
            position: absolute;
            left: 0;
            color: var(--primary-color);
            font-size: 1.2em;
        }

        .summary-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .summary-box h3 {
            color: white;
            margin-top: 0;
        }

        footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
            color: #666;
        }

        @media print {
            body {
                max-width: none;
            }
            .step-container {
                break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <h1>ğŸ”§ STM32H745I-DISCO<br>MMC_ReadWrite_DMA<br>CubeMX í”„ë¡œì íŠ¸ ìƒì„± ê°€ì´ë“œ</h1>

    <div class="summary-box">
        <h3>í”„ë¡œì íŠ¸ ê°œìš”</h3>
        <p>ì´ ê°€ì´ë“œëŠ” STM32H745I-DISCO ë³´ë“œì˜ eMMC(MMC_ReadWrite_DMA) ì˜ˆì œë¥¼ STM32CubeMXë¥¼ ì‚¬ìš©í•˜ì—¬ ì²˜ìŒë¶€í„° ìƒˆë¡œ ìƒì„±í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.</p>
        <p><strong>ì£¼ìš” ê¸°ëŠ¥:</strong> eMMC 8ë¹„íŠ¸ DMA ì½ê¸°/ì“°ê¸°, UART ë””ë²„ê·¸ ì¶œë ¥, LED ìƒíƒœ í‘œì‹œ</p>
    </div>

    <div class="toc">
        <h3>ğŸ“‹ ëª©ì°¨</h3>
        <ul>
            <li><a href="#prerequisites">1. ì‚¬ì „ ì¤€ë¹„ì‚¬í•­</a></li>
            <li><a href="#new-project">2. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±</a></li>
            <li><a href="#clock-config">3. í´ëŸ­ ì„¤ì •</a></li>
            <li><a href="#sdmmc-config">4. SDMMC1 (eMMC) ì„¤ì •</a></li>
            <li><a href="#uart-config">5. USART3 (ë””ë²„ê·¸) ì„¤ì •</a></li>
            <li><a href="#gpio-config">6. GPIO (LED) ì„¤ì •</a></li>
            <li><a href="#nvic-config">7. NVIC ì¸í„°ëŸ½íŠ¸ ì„¤ì •</a></li>
            <li><a href="#project-manager">8. í”„ë¡œì íŠ¸ ë§¤ë‹ˆì € ì„¤ì •</a></li>
            <li><a href="#generate-code">9. ì½”ë“œ ìƒì„±</a></li>
            <li><a href="#user-code">10. ì‚¬ìš©ì ì½”ë“œ ì¶”ê°€</a></li>
            <li><a href="#troubleshooting">11. íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</a></li>
        </ul>
    </div>

    <h2 id="prerequisites">1. ì‚¬ì „ ì¤€ë¹„ì‚¬í•­</h2>

    <div class="step-container">
        <h3>í•„ìš”í•œ ì†Œí”„íŠ¸ì›¨ì–´</h3>
        <ul class="checklist">
            <li>STM32CubeMX (ìµœì‹  ë²„ì „ ê¶Œì¥, 6.x ì´ìƒ)</li>
            <li>STM32CubeIDE ë˜ëŠ” ë‹¤ë¥¸ IDE (Keil, IAR ë“±)</li>
            <li>STM32Cube_FW_H7 íŒ¨í‚¤ì§€ (CubeMXì—ì„œ ìë™ ë‹¤ìš´ë¡œë“œ)</li>
            <li>ST-LINK ë“œë¼ì´ë²„</li>
        </ul>

        <h3>í•˜ë“œì›¨ì–´</h3>
        <ul class="checklist">
            <li>STM32H745I-DISCO ë³´ë“œ</li>
            <li>USB ì¼€ì´ë¸” (ST-LINK ì—°ê²°ìš©)</li>
            <li>ì‹œë¦¬ì–¼ í„°ë¯¸ë„ í”„ë¡œê·¸ë¨ (PuTTY, Tera Term ë“±)</li>
        </ul>
    </div>

    <div class="important">
        ì´ í”„ë¡œì íŠ¸ëŠ” <strong>Dual-Core (CM7 + CM4)</strong> í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. CM7ì´ ì£¼ìš” ë™ì‘ì„ ìˆ˜í–‰í•˜ê³ , CM4ëŠ” STOP ëª¨ë“œì—ì„œ ëŒ€ê¸°í•©ë‹ˆë‹¤.
    </div>

    <h2 id="new-project">2. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±</h2>

    <div class="step-container">
        <p><span class="step-number">1</span> STM32CubeMXë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>

        <p><span class="step-number">2</span> <strong>File â†’ New Project</strong>ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.</p>

        <p><span class="step-number">3</span> <strong>Board Selector</strong> íƒ­ì„ í´ë¦­í•©ë‹ˆë‹¤.</p>

        <p><span class="step-number">4</span> ê²€ìƒ‰ì°½ì— <code>STM32H745I-DISCO</code>ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.</p>

        <p><span class="step-number">5</span> ë³´ë“œë¥¼ ì„ íƒí•˜ê³  <strong>Start Project</strong>ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.</p>

        <p><span class="step-number">6</span> "Initialize all peripherals with their default Mode?" íŒì—…ì´ ë‚˜íƒ€ë‚˜ë©´ <strong>No</strong>ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.</p>

        <div class="note">
            <strong>No</strong>ë¥¼ ì„ íƒí•˜ë©´ ê¸°ë³¸ ì„¤ì • ì—†ì´ ì‹œì‘í•˜ì—¬ í•„ìš”í•œ ê²ƒë§Œ ì§ì ‘ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </div>
    </div>

    <h2 id="clock-config">3. í´ëŸ­ ì„¤ì •</h2>

    <div class="step-container">
        <h3>3.1 RCC ì„¤ì •</h3>

        <p>ì¢Œì¸¡ íŒ¨ë„ì—ì„œ <span class="menu-path">System Core â†’ <span>RCC</span></span>ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.</p>

        <table>
            <tr>
                <th>ì„¤ì • í•­ëª©</th>
                <th>ê°’</th>
            </tr>
            <tr>
                <td>High Speed Clock (HSE)</td>
                <td class="config-value">Crystal/Ceramic Resonator</td>
            </tr>
            <tr>
                <td>Low Speed Clock (LSE)</td>
                <td class="config-value">Disable (ë˜ëŠ” í•„ìš”ì‹œ Crystal)</td>
            </tr>
        </table>

        <h3>3.2 Clock Configuration íƒ­</h3>

        <p>ìƒë‹¨ì˜ <strong>Clock Configuration</strong> íƒ­ì„ í´ë¦­í•©ë‹ˆë‹¤.</p>

        <div class="important">
            SDMMC1 í´ëŸ­(PLL1Q)ì´ 200MHzê°€ ë˜ë„ë¡ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ SDMMC í´ëŸ­ì„ 50MHzë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </div>

        <table>
            <tr>
                <th>í´ëŸ­ íŒŒë¼ë¯¸í„°</th>
                <th>ê°’</th>
            </tr>
            <tr>
                <td>Input Frequency (HSE)</td>
                <td class="config-value">25 MHz</td>
            </tr>
            <tr>
                <td>PLL Source Mux</td>
                <td class="config-value">HSE</td>
            </tr>
            <tr>
                <td>PLLM</td>
                <td class="config-value">/5</td>
            </tr>
            <tr>
                <td>PLLN</td>
                <td class="config-value">x160</td>
            </tr>
            <tr>
                <td>PLLP</td>
                <td class="config-value">/2</td>
            </tr>
            <tr>
                <td>PLLQ</td>
                <td class="config-value">/4</td>
            </tr>
            <tr>
                <td>PLLR</td>
                <td class="config-value">/2</td>
            </tr>
            <tr>
                <td>System Clock Mux</td>
                <td class="config-value">PLLCLK</td>
            </tr>
            <tr>
                <td>SYSCLK (MHz)</td>
                <td class="config-value">400 MHz</td>
            </tr>
            <tr>
                <td>AHB Prescaler</td>
                <td class="config-value">/2 (HCLK = 200 MHz)</td>
            </tr>
            <tr>
                <td>APB1, APB2, APB3, APB4 Prescaler</td>
                <td class="config-value">/2 (ê° 100 MHz)</td>
            </tr>
        </table>

        <h3>3.3 SDMMC1 í´ëŸ­ ì†ŒìŠ¤ ì„¤ì •</h3>

        <p>Clock Configuration ë‹¤ì´ì–´ê·¸ë¨ì—ì„œ:</p>
        <ul>
            <li><strong>SDMMC1 Clock Mux</strong>ë¥¼ <code class="config-value">PLL1 Q</code>ë¡œ ì„ íƒ</li>
            <li>ê²°ê³¼: SDMMC1 Kernel Clock = 200 MHz</li>
        </ul>

        <div class="success">
            ìµœì¢… í´ëŸ­: SYSCLK=400MHz, HCLK=200MHz, PLL1Q=200MHz (SDMMCìš©)
        </div>
    </div>

    <h2 id="sdmmc-config">4. SDMMC1 (eMMC) ì„¤ì •</h2>

    <div class="step-container">
        <h3>4.1 SDMMC1 ëª¨ë“œ ì„¤ì •</h3>

        <p>ì¢Œì¸¡ íŒ¨ë„ì—ì„œ <span class="menu-path">Connectivity â†’ <span>SDMMC1</span></span>ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.</p>

        <table>
            <tr>
                <th>ì„¤ì • í•­ëª©</th>
                <th>ê°’</th>
            </tr>
            <tr>
                <td>Mode</td>
                <td class="config-value">MMC 8 bits Wide bus</td>
            </tr>
        </table>

        <div class="note">
            STM32H745I-DISCOì˜ eMMCëŠ” 8ë¹„íŠ¸ ë²„ìŠ¤ë¥¼ ì§€ì›í•©ë‹ˆë‹¤. "SD 4 bits Wide bus"ê°€ ì•„ë‹Œ "MMC 8 bits"ë¥¼ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.
        </div>

        <h3>4.2 SDMMC1 íŒŒë¼ë¯¸í„° ì„¤ì •</h3>

        <p>Configuration íŒ¨ë„ì˜ <strong>Parameter Settings</strong> íƒ­ì—ì„œ:</p>

        <table>
            <tr>
                <th>íŒŒë¼ë¯¸í„°</th>
                <th>ê°’</th>
                <th>ì„¤ëª…</th>
            </tr>
            <tr>
                <td>Clock Edge</td>
                <td class="config-value">Rising transition</td>
                <td>ìƒìŠ¹ ì—ì§€ì—ì„œ ë°ì´í„° ìƒ˜í”Œë§</td>
            </tr>
            <tr>
                <td>Clock Power Save</td>
                <td class="config-value">Disable</td>
                <td>í´ëŸ­ ì ˆì „ ë¹„í™œì„±í™”</td>
            </tr>
            <tr>
                <td>Clock Division</td>
                <td class="config-value">2</td>
                <td>SDMMC_CLK = 200MHz / (2*2) = 50MHz</td>
            </tr>
            <tr>
                <td>Hardware Flow Control</td>
                <td class="config-value">Enable</td>
                <td>FIFO ì˜¤ë²„ëŸ° ë°©ì§€</td>
            </tr>
        </table>

        <h3>4.3 SDMMC1 GPIO í•€ í™•ì¸</h3>

        <p>Pinout viewì—ì„œ ë‹¤ìŒ í•€ë“¤ì´ ìë™ìœ¼ë¡œ í• ë‹¹ë©ë‹ˆë‹¤:</p>

        <table class="pin-table">
            <tr>
                <th>ì‹ í˜¸</th>
                <th>í•€</th>
                <th>Alternate Function</th>
            </tr>
            <tr>
                <td>SDMMC1_CK</td>
                <td>PC12</td>
                <td>AF12</td>
            </tr>
            <tr>
                <td>SDMMC1_CMD</td>
                <td>PD2</td>
                <td>AF12</td>
            </tr>
            <tr>
                <td>SDMMC1_D0</td>
                <td>PC8</td>
                <td>AF12</td>
            </tr>
            <tr>
                <td>SDMMC1_D1</td>
                <td>PC9</td>
                <td>AF12</td>
            </tr>
            <tr>
                <td>SDMMC1_D2</td>
                <td>PC10</td>
                <td>AF12</td>
            </tr>
            <tr>
                <td>SDMMC1_D3</td>
                <td>PC11</td>
                <td>AF12</td>
            </tr>
            <tr>
                <td>SDMMC1_D4</td>
                <td>PB8</td>
                <td>AF12</td>
            </tr>
            <tr>
                <td>SDMMC1_D5</td>
                <td>PB9</td>
                <td>AF12</td>
            </tr>
            <tr>
                <td>SDMMC1_D6</td>
                <td>PC6</td>
                <td>AF12</td>
            </tr>
            <tr>
                <td>SDMMC1_D7</td>
                <td>PC7</td>
                <td>AF12</td>
            </tr>
        </table>

        <h3>4.4 GPIO ì„¤ì • í™•ì¸</h3>

        <p><strong>GPIO Settings</strong> íƒ­ì—ì„œ ëª¨ë“  SDMMC í•€ì— ëŒ€í•´:</p>

        <table>
            <tr>
                <th>ì„¤ì •</th>
                <th>ê°’</th>
            </tr>
            <tr>
                <td>GPIO mode</td>
                <td class="config-value">Alternate Function Push Pull</td>
            </tr>
            <tr>
                <td>GPIO Pull-up/Pull-down</td>
                <td class="config-value">Pull-up</td>
            </tr>
            <tr>
                <td>Maximum output speed</td>
                <td class="config-value">Very High</td>
            </tr>
        </table>
    </div>

    <h2 id="uart-config">5. USART3 (ë””ë²„ê·¸) ì„¤ì •</h2>

    <div class="step-container">
        <h3>5.1 USART3 ëª¨ë“œ ì„¤ì •</h3>

        <p>ì¢Œì¸¡ íŒ¨ë„ì—ì„œ <span class="menu-path">Connectivity â†’ <span>USART3</span></span>ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.</p>

        <table>
            <tr>
                <th>ì„¤ì • í•­ëª©</th>
                <th>ê°’</th>
            </tr>
            <tr>
                <td>Mode</td>
                <td class="config-value">Asynchronous</td>
            </tr>
        </table>

        <h3>5.2 USART3 íŒŒë¼ë¯¸í„° ì„¤ì •</h3>

        <table>
            <tr>
                <th>íŒŒë¼ë¯¸í„°</th>
                <th>ê°’</th>
            </tr>
            <tr>
                <td>Baud Rate</td>
                <td class="config-value">9600 bits/s</td>
            </tr>
            <tr>
                <td>Word Length</td>
                <td class="config-value">8 Bits</td>
            </tr>
            <tr>
                <td>Parity</td>
                <td class="config-value">Odd</td>
            </tr>
            <tr>
                <td>Stop Bits</td>
                <td class="config-value">1</td>
            </tr>
            <tr>
                <td>Over Sampling</td>
                <td class="config-value">16 Samples</td>
            </tr>
        </table>

        <div class="warning">
            Parityê°€ <strong>Odd</strong>ë¡œ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. í„°ë¯¸ë„ í”„ë¡œê·¸ë¨ì—ì„œë„ ë™ì¼í•˜ê²Œ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤: <strong>9600-8-O-1</strong>
        </div>

        <h3>5.3 USART3 í•€ ì„¤ì •</h3>

        <table class="pin-table">
            <tr>
                <th>ì‹ í˜¸</th>
                <th>í•€</th>
                <th>Alternate Function</th>
            </tr>
            <tr>
                <td>USART3_TX</td>
                <td>PB10</td>
                <td>AF7</td>
            </tr>
            <tr>
                <td>USART3_RX</td>
                <td>PB11</td>
                <td>AF7</td>
            </tr>
        </table>

        <div class="important">
            STM32H745I-DISCOì—ì„œ USART3ëŠ” <strong>PB10/PB11</strong>ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. PD8/PD9ëŠ” FMC(ì™¸ë¶€ SDRAM)ì— í• ë‹¹ë˜ì–´ ìˆì–´ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
        </div>

        <p><strong>GPIO Settings</strong>ì—ì„œ:</p>
        <table>
            <tr>
                <th>ì„¤ì •</th>
                <th>ê°’</th>
            </tr>
            <tr>
                <td>GPIO Pull-up/Pull-down</td>
                <td class="config-value">Pull-up</td>
            </tr>
            <tr>
                <td>Maximum output speed</td>
                <td class="config-value">Very High</td>
            </tr>
        </table>
    </div>

    <h2 id="gpio-config">6. GPIO (LED) ì„¤ì •</h2>

    <div class="step-container">
        <h3>6.1 LED í•€ ì„¤ì •</h3>

        <p>Pinout viewì—ì„œ ë‹¤ìŒ í•€ì„ <strong>GPIO_Output</strong>ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤:</p>

        <table class="pin-table">
            <tr>
                <th>LED</th>
                <th>í•€</th>
                <th>ìš©ë„</th>
            </tr>
            <tr>
                <td>LED_GREEN (LED1)</td>
                <td>PJ2</td>
                <td>ì •ìƒ ë™ì‘ í‘œì‹œ</td>
            </tr>
            <tr>
                <td>LED_RED (LED2)</td>
                <td>PI13</td>
                <td>ì—ëŸ¬ í‘œì‹œ</td>
            </tr>
        </table>

        <h3>6.2 GPIO ì¶œë ¥ ì„¤ì •</h3>

        <p>ê° LED í•€ì„ í´ë¦­í•˜ê³  <strong>GPIO Settings</strong>ì—ì„œ:</p>

        <table>
            <tr>
                <th>ì„¤ì •</th>
                <th>ê°’</th>
            </tr>
            <tr>
                <td>GPIO output level</td>
                <td class="config-value">Low</td>
            </tr>
            <tr>
                <td>GPIO mode</td>
                <td class="config-value">Output Push Pull</td>
            </tr>
            <tr>
                <td>GPIO Pull-up/Pull-down</td>
                <td class="config-value">No pull-up and no pull-down</td>
            </tr>
            <tr>
                <td>Maximum output speed</td>
                <td class="config-value">Low</td>
            </tr>
            <tr>
                <td>User Label</td>
                <td class="config-value">LED_GREEN ë˜ëŠ” LED_RED</td>
            </tr>
        </table>
    </div>

    <h2 id="nvic-config">7. NVIC ì¸í„°ëŸ½íŠ¸ ì„¤ì •</h2>

    <div class="step-container">
        <h3>7.1 SDMMC1 ì¸í„°ëŸ½íŠ¸ í™œì„±í™”</h3>

        <p>ì¢Œì¸¡ íŒ¨ë„ì—ì„œ <span class="menu-path">System Core â†’ <span>NVIC</span></span>ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.</p>

        <p>ë˜ëŠ” SDMMC1 Configurationì˜ <strong>NVIC Settings</strong> íƒ­ì—ì„œ:</p>

        <table>
            <tr>
                <th>ì¸í„°ëŸ½íŠ¸</th>
                <th>Enabled</th>
                <th>Priority</th>
            </tr>
            <tr>
                <td>SDMMC1 global interrupt</td>
                <td class="config-value">â˜‘ Enable</td>
                <td class="config-value">5 (Preemption), 0 (Sub)</td>
            </tr>
        </table>

        <div class="note">
            DMA ì „ì†¡ ì™„ë£Œ ì½œë°±ì„ ìœ„í•´ SDMMC1 ì¸í„°ëŸ½íŠ¸ê°€ ë°˜ë“œì‹œ í™œì„±í™”ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
        </div>
    </div>

    <h2 id="project-manager">8. í”„ë¡œì íŠ¸ ë§¤ë‹ˆì € ì„¤ì •</h2>

    <div class="step-container">
        <h3>8.1 Project íƒ­</h3>

        <p>ìƒë‹¨ì˜ <strong>Project Manager</strong> íƒ­ì„ í´ë¦­í•©ë‹ˆë‹¤.</p>

        <table>
            <tr>
                <th>ì„¤ì •</th>
                <th>ê°’</th>
            </tr>
            <tr>
                <td>Project Name</td>
                <td class="config-value">MMC_ReadWrite_DMA</td>
            </tr>
            <tr>
                <td>Project Location</td>
                <td class="config-value">[ì›í•˜ëŠ” ê²½ë¡œ]</td>
            </tr>
            <tr>
                <td>Toolchain / IDE</td>
                <td class="config-value">STM32CubeIDE</td>
            </tr>
        </table>

        <h3>8.2 Code Generator íƒ­</h3>

        <table>
            <tr>
                <th>ì„¤ì •</th>
                <th>ê°’</th>
            </tr>
            <tr>
                <td>Copy all used libraries into the project folder</td>
                <td class="config-value">â˜‘ ì„ íƒ</td>
            </tr>
            <tr>
                <td>Generate peripheral initialization as a pair of .c/.h files</td>
                <td class="config-value">â˜‘ ì„ íƒ (ê¶Œì¥)</td>
            </tr>
            <tr>
                <td>Keep User Code when re-generating</td>
                <td class="config-value">â˜‘ ì„ íƒ</td>
            </tr>
        </table>

        <h3>8.3 Advanced Settings íƒ­</h3>

        <p>íŠ¹ë³„íˆ ë³€ê²½í•  ì‚¬í•­ ì—†ìŒ (ê¸°ë³¸ê°’ ì‚¬ìš©)</p>
    </div>

    <h2 id="generate-code">9. ì½”ë“œ ìƒì„±</h2>

    <div class="step-container">
        <p><span class="step-number">1</span> ìƒë‹¨ ë©”ë‰´ì—ì„œ <strong>GENERATE CODE</strong> ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.</p>

        <p><span class="step-number">2</span> ì½”ë“œ ìƒì„±ì´ ì™„ë£Œë˜ë©´ "Open Project" ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ IDEì—ì„œ í”„ë¡œì íŠ¸ë¥¼ ì—½ë‹ˆë‹¤.</p>

        <div class="success">
            ê¸°ë³¸ êµ¬ì¡°ì™€ ì´ˆê¸°í™” ì½”ë“œê°€ ìë™ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!
        </div>
    </div>

    <h2 id="user-code">10. ì‚¬ìš©ì ì½”ë“œ ì¶”ê°€</h2>

    <div class="step-container">
        <h3>10.1 main.cì— ì¶”ê°€í•  ì½”ë“œ</h3>

        <p><strong>CM7/Core/Src/main.c</strong> íŒŒì¼ì„ ì—´ê³  ë‹¤ìŒ ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤:</p>

        <h4>ì „ì—­ ë³€ìˆ˜ ì„ ì–¸ (/* USER CODE BEGIN PV */)</h4>

        <pre>
/* USER CODE BEGIN PV */
#define BUFFER_SIZE      ((uint32_t)0x00000100U)  /* 256 bytes */
#define BLOCK_SIZE       512
#define NB_BLOCK_BUFFER  (BUFFER_SIZE / BLOCK_SIZE)
#define ADDRESS          ((uint32_t)0x00000400U)

MMC_HandleTypeDef hmmc1;
__IO uint8_t TxCplt = 0;
__IO uint8_t RxCplt = 0;

/* DMAë¥¼ ìœ„í•´ AXI SRAM(D1)ì— ë²„í¼ ë°°ì¹˜ */
#if defined ( __GNUC__ )
__attribute__((section(".RAM_D1")))
#endif
uint8_t aTxBuffer[BUFFER_SIZE];

#if defined ( __GNUC__ )
__attribute__((section(".RAM_D1")))
#endif
uint8_t aRxBuffer[BUFFER_SIZE];
/* USER CODE END PV */</pre>

        <h4>printf ì¬ì •ì˜ (/* USER CODE BEGIN 0 */)</h4>

        <pre>
/* USER CODE BEGIN 0 */
#ifdef __GNUC__
#define PUTCHAR_PROTOTYPE int __io_putchar(int ch)
#else
#define PUTCHAR_PROTOTYPE int fputc(int ch, FILE *f)
#endif

PUTCHAR_PROTOTYPE
{
  HAL_UART_Transmit(&huart3, (uint8_t *)&ch, 1, 0xFFFF);
  return ch;
}
/* USER CODE END 0 */</pre>

        <h4>ë©”ì¸ í•¨ìˆ˜ ë‚´ ì½”ë“œ (/* USER CODE BEGIN 2 */)</h4>

        <pre>
/* USER CODE BEGIN 2 */
printf("\r\n ########################################## \r\n");
printf(" #   eMMC Read/Write DMA Test Start      # \r\n");
printf(" ########################################## \r\n\n");

/* ë²„í¼ ì´ˆê¸°í™” */
for (uint32_t i = 0; i < BUFFER_SIZE; i++)
{
  aTxBuffer[i] = i;
  aRxBuffer[i] = 0;
}

/* ìºì‹œ í´ë¦° */
SCB_CleanDCache_by_Addr((uint32_t*)aTxBuffer, BUFFER_SIZE);

/* eMMC ì“°ê¸° */
printf("Writing to eMMC...\r\n");
TxCplt = 0;
if (HAL_MMC_WriteBlocks_DMA(&hmmc1, aTxBuffer, ADDRESS, NB_BLOCK_BUFFER) != HAL_OK)
{
  printf("Write Error!\r\n");
  Error_Handler();
}

/* ì“°ê¸° ì™„ë£Œ ëŒ€ê¸° */
while (TxCplt == 0);
printf("Write Complete!\r\n");

/* eMMC ì½ê¸° */
printf("Reading from eMMC...\r\n");
RxCplt = 0;
if (HAL_MMC_ReadBlocks_DMA(&hmmc1, aRxBuffer, ADDRESS, NB_BLOCK_BUFFER) != HAL_OK)
{
  printf("Read Error!\r\n");
  Error_Handler();
}

/* ì½ê¸° ì™„ë£Œ ëŒ€ê¸° */
while (RxCplt == 0);
printf("Read Complete!\r\n");

/* ìºì‹œ ë¬´íš¨í™” */
SCB_InvalidateDCache_by_Addr((uint32_t*)aRxBuffer, BUFFER_SIZE);

/* ë°ì´í„° ê²€ì¦ */
printf("Verifying data...\r\n");
uint32_t errorCount = 0;
for (uint32_t i = 0; i < BUFFER_SIZE; i++)
{
  if (aRxBuffer[i] != aTxBuffer[i])
  {
    errorCount++;
  }
}

if (errorCount == 0)
{
  printf("SUCCESS! All data verified.\r\n");
  HAL_GPIO_WritePin(LED_GREEN_GPIO_Port, LED_GREEN_Pin, GPIO_PIN_SET);
}
else
{
  printf("ERROR! %lu bytes mismatch.\r\n", errorCount);
  HAL_GPIO_WritePin(LED_RED_GPIO_Port, LED_RED_Pin, GPIO_PIN_SET);
}
/* USER CODE END 2 */</pre>

        <h4>ì½œë°± í•¨ìˆ˜ (/* USER CODE BEGIN 4 */)</h4>

        <pre>
/* USER CODE BEGIN 4 */
void HAL_MMC_TxCpltCallback(MMC_HandleTypeDef *hmmc)
{
  TxCplt = 1;
}

void HAL_MMC_RxCpltCallback(MMC_HandleTypeDef *hmmc)
{
  SCB_InvalidateDCache_by_Addr((uint32_t*)aRxBuffer, BUFFER_SIZE);
  RxCplt = 1;
}

void HAL_MMC_ErrorCallback(MMC_HandleTypeDef *hmmc)
{
  printf("MMC Error: 0x%lX\r\n", HAL_MMC_GetError(hmmc));
  Error_Handler();
}
/* USER CODE END 4 */</pre>

        <h3>10.2 ë§ì»¤ ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì • (ì„ íƒì‚¬í•­)</h3>

        <p>DMA ë²„í¼ë¥¼ AXI SRAMì— ë°°ì¹˜í•˜ë ¤ë©´ ë§ì»¤ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìˆ˜ì •í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

        <p><strong>STM32H745XIHX_FLASH.ld</strong> íŒŒì¼ì—ì„œ MEMORY ì„¹ì…˜ì— ì¶”ê°€:</p>

        <pre>
/* ì´ë¯¸ ì •ì˜ë˜ì–´ ìˆì„ ìˆ˜ ìˆìŒ */
RAM_D1 (xrw) : ORIGIN = 0x24000000, LENGTH = 512K</pre>

        <p>SECTIONSì— ì¶”ê°€:</p>

        <pre>
.RAM_D1 :
{
  . = ALIGN(4);
  *(.RAM_D1)
  . = ALIGN(4);
} >RAM_D1</pre>

        <h3>10.3 stm32h7xx_hal_conf.h í™•ì¸</h3>

        <p><strong>CM7/Core/Inc/stm32h7xx_hal_conf.h</strong>ì—ì„œ ë‹¤ìŒì´ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸:</p>

        <pre>
#define HAL_MMC_MODULE_ENABLED
#define HAL_UART_MODULE_ENABLED
#define HAL_GPIO_MODULE_ENABLED
#define HAL_CORTEX_MODULE_ENABLED
#define HAL_DMA_MODULE_ENABLED</pre>
    </div>

    <h2 id="troubleshooting">11. íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</h2>

    <div class="step-container">
        <h3>ë¬¸ì œ: eMMC ì´ˆê¸°í™” ì‹¤íŒ¨</h3>
        <div class="warning">
            <strong>ì¦ìƒ:</strong> HAL_MMC_Init() ë°˜í™˜ê°’ì´ HAL_ERROR<br>
            <strong>í•´ê²°:</strong>
            <ul>
                <li>SDMMC1 í´ëŸ­ì´ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸ (PLL1Q = 200MHz)</li>
                <li>ëª¨ë“  GPIO í•€ì´ AF12ë¡œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸</li>
                <li>Clock Division ê°’ì´ ì ì ˆí•œì§€ í™•ì¸ (ì‹œì‘ì€ 4 ì´ìƒìœ¼ë¡œ)</li>
            </ul>
        </div>

        <h3>ë¬¸ì œ: DMA ì „ì†¡ ì‹¤íŒ¨</h3>
        <div class="warning">
            <strong>ì¦ìƒ:</strong> ì½œë°±ì´ í˜¸ì¶œë˜ì§€ ì•ŠìŒ<br>
            <strong>í•´ê²°:</strong>
            <ul>
                <li>SDMMC1 ì¸í„°ëŸ½íŠ¸ê°€ NVICì—ì„œ í™œì„±í™”ë˜ì—ˆëŠ”ì§€ í™•ì¸</li>
                <li>ë²„í¼ê°€ AXI SRAM (0x24000000)ì— ìˆëŠ”ì§€ í™•ì¸</li>
                <li>ìºì‹œ ê´€ë¦¬ í•¨ìˆ˜(Clean/Invalidate)ê°€ í˜¸ì¶œë˜ëŠ”ì§€ í™•ì¸</li>
            </ul>
        </div>

        <h3>ë¬¸ì œ: ë°ì´í„° ë¶ˆì¼ì¹˜</h3>
        <div class="warning">
            <strong>ì¦ìƒ:</strong> ì“´ ë°ì´í„°ì™€ ì½ì€ ë°ì´í„°ê°€ ë‹¤ë¦„<br>
            <strong>í•´ê²°:</strong>
            <ul>
                <li>ì“°ê¸° ì „ SCB_CleanDCache_by_Addr() í˜¸ì¶œ</li>
                <li>ì½ê¸° í›„ SCB_InvalidateDCache_by_Addr() í˜¸ì¶œ</li>
                <li>ë²„í¼ ì£¼ì†Œê°€ 32ë°”ì´íŠ¸ ì •ë ¬ë˜ì—ˆëŠ”ì§€ í™•ì¸</li>
            </ul>
        </div>

        <h3>ë¬¸ì œ: printf ì¶œë ¥ ì•ˆë¨</h3>
        <div class="warning">
            <strong>ì¦ìƒ:</strong> ì‹œë¦¬ì–¼ í„°ë¯¸ë„ì— ì¶œë ¥ ì—†ìŒ<br>
            <strong>í•´ê²°:</strong>
            <ul>
                <li>í„°ë¯¸ë„ ì„¤ì •: 9600-8-O-1 (Odd Parity ì£¼ì˜!)</li>
                <li>USART3 í•€ì´ PB10/PB11ì¸ì§€ í™•ì¸</li>
                <li>syscalls.cì—ì„œ _write() í•¨ìˆ˜ í™•ì¸</li>
            </ul>
        </div>
    </div>

    <div class="summary-box">
        <h3>âœ… ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>
        <ul>
            <li>â˜ HSE = 25MHz, SYSCLK = 400MHz, PLL1Q = 200MHz</li>
            <li>â˜ SDMMC1: MMC 8-bit, ClockDiv=2, HW Flow Control í™œì„±í™”</li>
            <li>â˜ USART3: 9600-8-O-1, PB10/PB11</li>
            <li>â˜ GPIO: PJ2(LED_GREEN), PI13(LED_RED) ì¶œë ¥</li>
            <li>â˜ NVIC: SDMMC1 ì¸í„°ëŸ½íŠ¸ í™œì„±í™”</li>
            <li>â˜ ë²„í¼: AXI SRAMì— ë°°ì¹˜, ìºì‹œ ê´€ë¦¬</li>
        </ul>
    </div>

    <h2>ì°¸ê³  ìë£Œ</h2>

    <ul>
        <li><strong>RM0399</strong>: STM32H745/755 Reference Manual</li>
        <li><strong>UM2488</strong>: STM32H745I-DISCO User Manual</li>
        <li><strong>AN5601</strong>: Getting started with STM32H7 HAL/LL drivers</li>
        <li>ì›ë³¸ ì˜ˆì œ: <code>STM32Cube_FW_H7/Projects/STM32H745I-DISCO/Examples/MMC/MMC_ReadWrite_DMA</code></li>
    </ul>

    <footer>
        <p>ë¬¸ì„œ ë²„ì „: 1.0 | ì‘ì„±ì¼: 2025-11-19</p>
        <p>ì´ ë¬¸ì„œëŠ” STM32H745I-DISCO ë³´ë“œì˜ MMC_ReadWrite_DMA ì˜ˆì œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
    </footer>
</body>
</html>
